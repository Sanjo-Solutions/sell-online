/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.keys(envPathObject);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const resolveSecrets = async (paths) => {        const response = await actualSsmClient.getParameters({            Names: paths,            WithDecryption: true,        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name);                    const envName = envKey                        ? envPathObject[envKey].name                        : envPathObject[parameter.Name]?.name;                    process.env[envName] = parameter.Value;                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => envPathObject[invalidParam].sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(() => {    void internalAmplifyFunctionResolveSsmParams();}, SSM_PARAMETER_REFRESH_MS);export {};
var dl=Object.create;var Pr=Object.defineProperty;var hl=Object.getOwnPropertyDescriptor;var ml=Object.getOwnPropertyNames;var fl=Object.getPrototypeOf,yl=Object.prototype.hasOwnProperty;var vl=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Pl=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),yo=(t,e)=>{for(var r in e)Pr(t,r,{get:e[r],enumerable:!0})},gl=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ml(e))!yl.call(t,s)&&s!==r&&Pr(t,s,{get:()=>e[s],enumerable:!(o=hl(e,s))||o.enumerable});return t};var Tl=(t,e,r)=>(r=t!=null?dl(fl(t)):{},gl(e||!t||!t.__esModule?Pr(r,"default",{value:t,enumerable:!0}):r,t));import{createRequire as Sl}from"node:module";import _l from"node:path";import El from"node:url";var i=Pl(()=>{global.require=Sl(import.meta.url);global.__filename=El.fileURLToPath(import.meta.url);global.__dirname=_l.dirname(__filename)});var _o=_((Vp,So)=>{"use strict";i();So.exports=Error});var xo=_((jp,Eo)=>{"use strict";i();Eo.exports=EvalError});var Oo=_((Jp,bo)=>{"use strict";i();bo.exports=RangeError});var Ro=_((Xp,wo)=>{"use strict";i();wo.exports=ReferenceError});var xr=_((ed,Ao)=>{"use strict";i();Ao.exports=SyntaxError});var Te=_((rd,Co)=>{"use strict";i();Co.exports=TypeError});var Mo=_((nd,Io)=>{"use strict";i();Io.exports=URIError});var Do=_((sd,Go)=>{"use strict";i();Go.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}});var Fo=_((ld,qo)=>{"use strict";i();var ko=typeof Symbol<"u"&&Symbol,Ol=Do();qo.exports=function(){return typeof ko!="function"||typeof Symbol!="function"||typeof ko("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ol()}});var Uo=_((cd,No)=>{"use strict";i();var br={__proto__:null,foo:{}},wl=Object;No.exports=function(){return{__proto__:br}.foo===br.foo&&!(br instanceof wl)}});var $o=_((dd,Ho)=>{"use strict";i();var Rl="Function.prototype.bind called on incompatible ",Al=Object.prototype.toString,Cl=Math.max,Il="[object Function]",Lo=function(e,r){for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s];for(var a=0;a<r.length;a+=1)o[a+e.length]=r[a];return o},Ml=function(e,r){for(var o=[],s=r||0,a=0;s<e.length;s+=1,a+=1)o[a]=e[s];return o},Gl=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r};Ho.exports=function(e){var r=this;if(typeof r!="function"||Al.apply(r)!==Il)throw new TypeError(Rl+r);for(var o=Ml(arguments,1),s,a=function(){if(this instanceof s){var u=r.apply(this,Lo(o,arguments));return Object(u)===u?u:this}return r.apply(e,Lo(o,arguments))},l=Cl(0,r.length-o.length),c=[],p=0;p<l;p++)c[p]="$"+p;if(s=Function("binder","return function ("+Gl(c,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var h=function(){};h.prototype=r.prototype,s.prototype=new h,h.prototype=null}return s}});var bt=_((md,Bo)=>{"use strict";i();var Dl=$o();Bo.exports=Function.prototype.bind||Dl});var Wo=_((yd,zo)=>{"use strict";i();var kl=Function.prototype.call,ql=Object.prototype.hasOwnProperty,Fl=bt();zo.exports=Fl.call(kl,ql)});var ue=_((Pd,Jo)=>{"use strict";i();var S,Nl=_o(),Ul=xo(),Ll=Oo(),Hl=Ro(),xe=xr(),Ee=Te(),$l=Mo(),Qo=Function,Or=function(t){try{return Qo('"use strict"; return ('+t+").constructor;")()}catch{}},ae=Object.getOwnPropertyDescriptor;if(ae)try{ae({},"")}catch{ae=null}var wr=function(){throw new Ee},Bl=ae?function(){try{return arguments.callee,wr}catch{try{return ae(arguments,"callee").get}catch{return wr}}}():wr,Se=Fo()(),zl=Uo()(),D=Object.getPrototypeOf||(zl?function(t){return t.__proto__}:null),_e={},Wl=typeof Uint8Array>"u"||!D?S:D(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Se&&D?D([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":_e,"%AsyncGenerator%":_e,"%AsyncGeneratorFunction%":_e,"%AsyncIteratorPrototype%":_e,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Nl,"%eval%":eval,"%EvalError%":Ul,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Qo,"%GeneratorFunction%":_e,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Se&&D?D(D([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Se||!D?S:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":Ll,"%ReferenceError%":Hl,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Se||!D?S:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Se&&D?D(""[Symbol.iterator]()):S,"%Symbol%":Se?Symbol:S,"%SyntaxError%":xe,"%ThrowTypeError%":Bl,"%TypedArray%":Wl,"%TypeError%":Ee,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":$l,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(D)try{null.error}catch(t){Vo=D(D(t)),le["%Error.prototype%"]=Vo}var Vo,Vl=function t(e){var r;if(e==="%AsyncFunction%")r=Or("async function () {}");else if(e==="%GeneratorFunction%")r=Or("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Or("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&D&&(r=D(s.prototype))}return le[e]=r,r},Ko={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ze=bt(),Ot=Wo(),Kl=ze.call(Function.call,Array.prototype.concat),jl=ze.call(Function.apply,Array.prototype.splice),jo=ze.call(Function.call,String.prototype.replace),wt=ze.call(Function.call,String.prototype.slice),Ql=ze.call(Function.call,RegExp.prototype.exec),Jl=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yl=/\\(\\)?/g,Xl=function(e){var r=wt(e,0,1),o=wt(e,-1);if(r==="%"&&o!=="%")throw new xe("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new xe("invalid intrinsic syntax, expected opening `%`");var s=[];return jo(e,Jl,function(a,l,c,p){s[s.length]=c?jo(p,Yl,"$1"):l||a}),s},Zl=function(e,r){var o=e,s;if(Ot(Ko,o)&&(s=Ko[o],o="%"+s[0]+"%"),Ot(le,o)){var a=le[o];if(a===_e&&(a=Vl(o)),typeof a>"u"&&!r)throw new Ee("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:o,value:a}}throw new xe("intrinsic "+e+" does not exist!")};Jo.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Ee("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ee('"allowMissing" argument must be a boolean');if(Ql(/^%?[^%]*%?$/,e)===null)throw new xe("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=Xl(e),s=o.length>0?o[0]:"",a=Zl("%"+s+"%",r),l=a.name,c=a.value,p=!1,h=a.alias;h&&(s=h[0],jl(o,Kl([0,1],h)));for(var u=1,m=!0;u<o.length;u+=1){var d=o[u],y=wt(d,0,1),f=wt(d,-1);if((y==='"'||y==="'"||y==="`"||f==='"'||f==="'"||f==="`")&&y!==f)throw new xe("property names with quotes must have matching quotes");if((d==="constructor"||!m)&&(p=!0),s+="."+d,l="%"+s+"%",Ot(le,l))c=le[l];else if(c!=null){if(!(d in c)){if(!r)throw new Ee("base intrinsic for "+e+" exists, but the property is not available.");return}if(ae&&u+1>=o.length){var v=ae(c,d);m=!!v,m&&"get"in v&&!("originalValue"in v.get)?c=v.get:c=c[d]}else m=Ot(c,d),c=c[d];m&&!p&&(le[l]=c)}}return c}});var At=_((Td,Yo)=>{"use strict";i();var eu=ue(),Rt=eu("%Object.defineProperty%",!0)||!1;if(Rt)try{Rt({},"a",{value:1})}catch{Rt=!1}Yo.exports=Rt});var Rr=_((_d,Xo)=>{"use strict";i();var tu=ue(),Ct=tu("%Object.getOwnPropertyDescriptor%",!0);if(Ct)try{Ct([],"length")}catch{Ct=null}Xo.exports=Ct});var rn=_((xd,tn)=>{"use strict";i();var Zo=At(),ru=xr(),be=Te(),en=Rr();tn.exports=function(e,r,o){if(!e||typeof e!="object"&&typeof e!="function")throw new be("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new be("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new be("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new be("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new be("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new be("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,p=!!en&&en(e,r);if(Zo)Zo(e,r,{configurable:l===null&&p?p.configurable:!l,enumerable:s===null&&p?p.enumerable:!s,value:o,writable:a===null&&p?p.writable:!a});else if(c||!s&&!a&&!l)e[r]=o;else throw new ru("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var sn=_((Od,nn)=>{"use strict";i();var Ar=At(),on=function(){return!!Ar};on.hasArrayLengthDefineBug=function(){if(!Ar)return null;try{return Ar([],"length",{value:1}).length!==1}catch{return!0}};nn.exports=on});var pn=_((Rd,cn)=>{"use strict";i();var ou=ue(),an=rn(),nu=sn()(),ln=Rr(),un=Te(),iu=ou("%Math.floor%");cn.exports=function(e,r){if(typeof e!="function")throw new un("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||iu(r)!==r)throw new un("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],s=!0,a=!0;if("length"in e&&ln){var l=ln(e,"length");l&&!l.configurable&&(s=!1),l&&!l.writable&&(a=!1)}return(s||a||!o)&&(nu?an(e,"length",r,!0,!0):an(e,"length",r)),e}});var vn=_((Cd,It)=>{"use strict";i();var Cr=bt(),Mt=ue(),su=pn(),au=Te(),mn=Mt("%Function.prototype.apply%"),fn=Mt("%Function.prototype.call%"),yn=Mt("%Reflect.apply%",!0)||Cr.call(fn,mn),dn=At(),lu=Mt("%Math.max%");It.exports=function(e){if(typeof e!="function")throw new au("a function is required");var r=yn(Cr,fn,arguments);return su(r,1+lu(0,e.length-(arguments.length-1)),!0)};var hn=function(){return yn(Cr,mn,arguments)};dn?dn(It.exports,"apply",{value:hn}):It.exports.apply=hn});var Sn=_((Md,Tn)=>{"use strict";i();var Pn=ue(),gn=vn(),uu=gn(Pn("String.prototype.indexOf"));Tn.exports=function(e,r){var o=Pn(e,!!r);return typeof o=="function"&&uu(e,".prototype.")>-1?gn(o):o}});var En=_((Dd,_n)=>{i();_n.exports=vl("util").inspect});var Bn=_((qd,$n)=>{i();var Lr=typeof Map=="function"&&Map.prototype,Ir=Object.getOwnPropertyDescriptor&&Lr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Dt=Lr&&Ir&&typeof Ir.get=="function"?Ir.get:null,xn=Lr&&Map.prototype.forEach,Hr=typeof Set=="function"&&Set.prototype,Mr=Object.getOwnPropertyDescriptor&&Hr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,kt=Hr&&Mr&&typeof Mr.get=="function"?Mr.get:null,bn=Hr&&Set.prototype.forEach,cu=typeof WeakMap=="function"&&WeakMap.prototype,Ve=cu?WeakMap.prototype.has:null,pu=typeof WeakSet=="function"&&WeakSet.prototype,Ke=pu?WeakSet.prototype.has:null,du=typeof WeakRef=="function"&&WeakRef.prototype,On=du?WeakRef.prototype.deref:null,hu=Boolean.prototype.valueOf,mu=Object.prototype.toString,fu=Function.prototype.toString,yu=String.prototype.match,$r=String.prototype.slice,ee=String.prototype.replace,vu=String.prototype.toUpperCase,wn=String.prototype.toLowerCase,qn=RegExp.prototype.test,Rn=Array.prototype.concat,$=Array.prototype.join,Pu=Array.prototype.slice,An=Math.floor,kr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Gr=Object.getOwnPropertySymbols,qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",q=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Oe||!0)?Symbol.toStringTag:null,Fn=Object.prototype.propertyIsEnumerable,Cn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function In(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||qn.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-An(-t):An(t);if(o!==t){var s=String(o),a=$r.call(e,s.length+1);return ee.call(s,r,"$&_")+"."+ee.call(ee.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ee.call(e,r,"$&_")}var Fr=En(),Mn=Fr.custom,Gn=Un(Mn)?Mn:null;$n.exports=function t(e,r,o,s){var a=r||{};if(Z(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Z(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=Z(a,"customInspect")?a.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Z(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Z(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Hn(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var p=String(e);return c?In(e,p):p}if(typeof e=="bigint"){var h=String(e)+"n";return c?In(e,h):h}var u=typeof a.depth>"u"?5:a.depth;if(typeof o>"u"&&(o=0),o>=u&&u>0&&typeof e=="object")return Nr(e)?"[Array]":"[Object]";var m=qu(a,o);if(typeof s>"u")s=[];else if(Ln(s,e)>=0)return"[Circular]";function d(N,Q,J){if(Q&&(s=Pu.call(s),s.push(Q)),J){var Le={depth:a.depth};return Z(a,"quoteStyle")&&(Le.quoteStyle=a.quoteStyle),t(N,Le,o+1,s)}return t(N,a,o+1,s)}if(typeof e=="function"&&!Dn(e)){var y=wu(e),f=Gt(e,d);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(f.length>0?" { "+$.call(f,", ")+" }":"")}if(Un(e)){var v=Oe?ee.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qr.call(e);return typeof e=="object"&&!Oe?We(v):v}if(Gu(e)){for(var T="<"+wn.call(String(e.nodeName)),g=e.attributes||[],x=0;x<g.length;x++)T+=" "+g[x].name+"="+Nn(gu(g[x].value),"double",a);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+wn.call(String(e.nodeName))+">",T}if(Nr(e)){if(e.length===0)return"[]";var P=Gt(e,d);return m&&!ku(P)?"["+Ur(P,m)+"]":"[ "+$.call(P,", ")+" ]"}if(Su(e)){var b=Gt(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Fn.call(e,"cause")?"{ ["+String(e)+"] "+$.call(Rn.call("[cause]: "+d(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$.call(b,", ")+" }"}if(typeof e=="object"&&l){if(Gn&&typeof e[Gn]=="function"&&Fr)return Fr(e,{depth:u-o});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ru(e)){var C=[];return xn&&xn.call(e,function(N,Q){C.push(d(Q,e,!0)+" => "+d(N,e))}),kn("Map",Dt.call(e),C,m)}if(Iu(e)){var F=[];return bn&&bn.call(e,function(N){F.push(d(N,e))}),kn("Set",kt.call(e),F,m)}if(Au(e))return Dr("WeakMap");if(Mu(e))return Dr("WeakSet");if(Cu(e))return Dr("WeakRef");if(Eu(e))return We(d(Number(e)));if(bu(e))return We(d(kr.call(e)));if(xu(e))return We(hu.call(e));if(_u(e))return We(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!Tu(e)&&!Dn(e)){var I=Gt(e,d),H=Cn?Cn(e)===Object.prototype:e instanceof Object||e.constructor===Object,se=e instanceof Object?"":"null prototype",j=!H&&q&&Object(e)===e&&q in e?$r.call(te(e),8,-1):se?"Object":"",mt=H||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",fe=mt+(j||se?"["+$.call(Rn.call([],j||[],se||[]),": ")+"] ":"");return I.length===0?fe+"{}":m?fe+"{"+Ur(I,m)+"}":fe+"{ "+$.call(I,", ")+" }"}return String(e)};function Nn(t,e,r){var o=(r.quoteStyle||e)==="double"?'"':"'";return o+t+o}function gu(t){return ee.call(String(t),/"/g,"&quot;")}function Nr(t){return te(t)==="[object Array]"&&(!q||!(typeof t=="object"&&q in t))}function Tu(t){return te(t)==="[object Date]"&&(!q||!(typeof t=="object"&&q in t))}function Dn(t){return te(t)==="[object RegExp]"&&(!q||!(typeof t=="object"&&q in t))}function Su(t){return te(t)==="[object Error]"&&(!q||!(typeof t=="object"&&q in t))}function _u(t){return te(t)==="[object String]"&&(!q||!(typeof t=="object"&&q in t))}function Eu(t){return te(t)==="[object Number]"&&(!q||!(typeof t=="object"&&q in t))}function xu(t){return te(t)==="[object Boolean]"&&(!q||!(typeof t=="object"&&q in t))}function Un(t){if(Oe)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qr)return!1;try{return qr.call(t),!0}catch{}return!1}function bu(t){if(!t||typeof t!="object"||!kr)return!1;try{return kr.call(t),!0}catch{}return!1}var Ou=Object.prototype.hasOwnProperty||function(t){return t in this};function Z(t,e){return Ou.call(t,e)}function te(t){return mu.call(t)}function wu(t){if(t.name)return t.name;var e=yu.call(fu.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Ln(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function Ru(t){if(!Dt||!t||typeof t!="object")return!1;try{Dt.call(t);try{kt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Au(t){if(!Ve||!t||typeof t!="object")return!1;try{Ve.call(t,Ve);try{Ke.call(t,Ke)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Cu(t){if(!On||!t||typeof t!="object")return!1;try{return On.call(t),!0}catch{}return!1}function Iu(t){if(!kt||!t||typeof t!="object")return!1;try{kt.call(t);try{Dt.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Mu(t){if(!Ke||!t||typeof t!="object")return!1;try{Ke.call(t,Ke);try{Ve.call(t,Ve)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Gu(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Hn(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return Hn($r.call(t,0,e.maxStringLength),e)+o}var s=ee.call(ee.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Du);return Nn(s,"single",e)}function Du(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+vu.call(e.toString(16))}function We(t){return"Object("+t+")"}function Dr(t){return t+" { ? }"}function kn(t,e,r,o){var s=o?Ur(r,o):$.call(r,", ");return t+" ("+e+") {"+s+"}"}function ku(t){for(var e=0;e<t.length;e++)if(Ln(t[e],`
`)>=0)return!1;return!0}function qu(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$.call(Array(e+1),r)}}function Ur(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+$.call(t,","+r)+`
`+e.prev}function Gt(t,e){var r=Nr(t),o=[];if(r){o.length=t.length;for(var s=0;s<t.length;s++)o[s]=Z(t,s)?e(t[s],t):""}var a=typeof Gr=="function"?Gr(t):[],l;if(Oe){l={};for(var c=0;c<a.length;c++)l["$"+a[c]]=a[c]}for(var p in t)Z(t,p)&&(r&&String(Number(p))===p&&p<t.length||Oe&&l["$"+p]instanceof Symbol||(qn.call(/[^\w$]/,p)?o.push(e(p,t)+": "+e(t[p],t)):o.push(p+": "+e(t[p],t))));if(typeof Gr=="function")for(var h=0;h<a.length;h++)Fn.call(t,a[h])&&o.push("["+e(a[h])+"]: "+e(t[a[h]],t));return o}});var Vn=_((Nd,Wn)=>{"use strict";i();var zn=ue(),we=Sn(),Fu=Bn(),Nu=Te(),qt=zn("%WeakMap%",!0),Ft=zn("%Map%",!0),Uu=we("WeakMap.prototype.get",!0),Lu=we("WeakMap.prototype.set",!0),Hu=we("WeakMap.prototype.has",!0),$u=we("Map.prototype.get",!0),Bu=we("Map.prototype.set",!0),zu=we("Map.prototype.has",!0),Br=function(t,e){for(var r=t,o;(o=r.next)!==null;r=o)if(o.key===e)return r.next=o.next,o.next=t.next,t.next=o,o},Wu=function(t,e){var r=Br(t,e);return r&&r.value},Vu=function(t,e,r){var o=Br(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}},Ku=function(t,e){return!!Br(t,e)};Wn.exports=function(){var e,r,o,s={assert:function(a){if(!s.has(a))throw new Nu("Side channel does not contain "+Fu(a))},get:function(a){if(qt&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Uu(e,a)}else if(Ft){if(r)return $u(r,a)}else if(o)return Wu(o,a)},has:function(a){if(qt&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Hu(e,a)}else if(Ft){if(r)return zu(r,a)}else if(o)return Ku(o,a);return!1},set:function(a,l){qt&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new qt),Lu(e,a,l)):Ft?(r||(r=new Ft),Bu(r,a,l)):(o||(o={key:{},next:null}),Vu(o,a,l))}};return s}});var Nt=_((Ld,Kn)=>{"use strict";i();var ju=String.prototype.replace,Qu=/%20/g,zr={RFC1738:"RFC1738",RFC3986:"RFC3986"};Kn.exports={default:zr.RFC3986,formatters:{RFC1738:function(t){return ju.call(t,Qu,"+")},RFC3986:function(t){return String(t)}},RFC1738:zr.RFC1738,RFC3986:zr.RFC3986}});var Kr=_(($d,Qn)=>{"use strict";i();var Ju=Nt(),Wr=Object.prototype.hasOwnProperty,ce=Array.isArray,B=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Yu=function(e){for(;e.length>1;){var r=e.pop(),o=r.obj[r.prop];if(ce(o)){for(var s=[],a=0;a<o.length;++a)typeof o[a]<"u"&&s.push(o[a]);r.obj[r.prop]=s}}},jn=function(e,r){for(var o=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(o[s]=e[s]);return o},Xu=function t(e,r,o){if(!r)return e;if(typeof r!="object"){if(ce(e))e.push(r);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Wr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return ce(e)&&!ce(r)&&(s=jn(e,o)),ce(e)&&ce(r)?(r.forEach(function(a,l){if(Wr.call(e,l)){var c=e[l];c&&typeof c=="object"&&a&&typeof a=="object"?e[l]=t(c,a,o):e.push(a)}else e[l]=a}),e):Object.keys(r).reduce(function(a,l){var c=r[l];return Wr.call(a,l)?a[l]=t(a[l],c,o):a[l]=c,a},s)},Zu=function(e,r){return Object.keys(r).reduce(function(o,s){return o[s]=r[s],o},e)},ec=function(t,e,r){var o=t.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},Vr=1024,tc=function(e,r,o,s,a){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),o==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var c="",p=0;p<l.length;p+=Vr){for(var h=l.length>=Vr?l.slice(p,p+Vr):l,u=[],m=0;m<h.length;++m){var d=h.charCodeAt(m);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===Ju.RFC1738&&(d===40||d===41)){u[u.length]=h.charAt(m);continue}if(d<128){u[u.length]=B[d];continue}if(d<2048){u[u.length]=B[192|d>>6]+B[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=B[224|d>>12]+B[128|d>>6&63]+B[128|d&63];continue}m+=1,d=65536+((d&1023)<<10|h.charCodeAt(m)&1023),u[u.length]=B[240|d>>18]+B[128|d>>12&63]+B[128|d>>6&63]+B[128|d&63]}c+=u.join("")}return c},rc=function(e){for(var r=[{obj:{o:e},prop:"o"}],o=[],s=0;s<r.length;++s)for(var a=r[s],l=a.obj[a.prop],c=Object.keys(l),p=0;p<c.length;++p){var h=c[p],u=l[h];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(r.push({obj:l,prop:h}),o.push(u))}return Yu(r),e},oc=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nc=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ic=function(e,r){return[].concat(e,r)},sc=function(e,r){if(ce(e)){for(var o=[],s=0;s<e.length;s+=1)o.push(r(e[s]));return o}return r(e)};Qn.exports={arrayToObject:jn,assign:Zu,combine:ic,compact:rc,decode:ec,encode:tc,isBuffer:nc,isRegExp:oc,maybeMap:sc,merge:Xu}});var ti=_((zd,ei)=>{"use strict";i();var Yn=Vn(),Ut=Kr(),je=Nt(),ac=Object.prototype.hasOwnProperty,Xn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},z=Array.isArray,lc=Array.prototype.push,Zn=function(t,e){lc.apply(t,z(e)?e:[e])},uc=Date.prototype.toISOString,Jn=je.default,M={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ut.encode,encodeValuesOnly:!1,format:Jn,formatter:je.formatters[Jn],indices:!1,serializeDate:function(e){return uc.call(e)},skipNulls:!1,strictNullHandling:!1},cc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},jr={},pc=function t(e,r,o,s,a,l,c,p,h,u,m,d,y,f,v,T,g,x){for(var P=e,b=x,C=0,F=!1;(b=b.get(jr))!==void 0&&!F;){var I=b.get(e);if(C+=1,typeof I<"u"){if(I===C)throw new RangeError("Cyclic object value");F=!0}typeof b.get(jr)>"u"&&(C=0)}if(typeof u=="function"?P=u(r,P):P instanceof Date?P=y(P):o==="comma"&&z(P)&&(P=Ut.maybeMap(P,function(vr){return vr instanceof Date?y(vr):vr})),P===null){if(l)return h&&!T?h(r,M.encoder,g,"key",f):r;P=""}if(cc(P)||Ut.isBuffer(P)){if(h){var H=T?r:h(r,M.encoder,g,"key",f);return[v(H)+"="+v(h(P,M.encoder,g,"value",f))]}return[v(r)+"="+v(String(P))]}var se=[];if(typeof P>"u")return se;var j;if(o==="comma"&&z(P))T&&h&&(P=Ut.maybeMap(P,h)),j=[{value:P.length>0?P.join(",")||null:void 0}];else if(z(u))j=u;else{var mt=Object.keys(P);j=m?mt.sort(m):mt}var fe=p?r.replace(/\./g,"%2E"):r,N=s&&z(P)&&P.length===1?fe+"[]":fe;if(a&&z(P)&&P.length===0)return N+"[]";for(var Q=0;Q<j.length;++Q){var J=j[Q],Le=typeof J=="object"&&typeof J.value<"u"?J.value:P[J];if(!(c&&Le===null)){var yr=d&&p?J.replace(/\./g,"%2E"):J,pl=z(P)?typeof o=="function"?o(N,yr):N:N+(d?"."+yr:"["+yr+"]");x.set(e,C);var fo=Yn();fo.set(jr,x),Zn(se,t(Le,pl,o,s,a,l,c,p,o==="comma"&&T&&z(P)?null:h,u,m,d,y,f,v,T,g,fo))}}return se},dc=function(e){if(!e)return M;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||M.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=je.default;if(typeof e.format<"u"){if(!ac.call(je.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var s=je.formatters[o],a=M.filter;(typeof e.filter=="function"||z(e.filter))&&(a=e.filter);var l;if(e.arrayFormat in Xn?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=M.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:M.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:M.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:M.allowEmptyArrays,arrayFormat:l,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?M.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:M.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:M.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:M.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:M.encodeValuesOnly,filter:a,format:o,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:M.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:M.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling}};ei.exports=function(t,e){var r=t,o=dc(e),s,a;typeof o.filter=="function"?(a=o.filter,r=a("",r)):z(o.filter)&&(a=o.filter,s=a);var l=[];if(typeof r!="object"||r===null)return"";var c=Xn[o.arrayFormat],p=c==="comma"&&o.commaRoundTrip;s||(s=Object.keys(r)),o.sort&&s.sort(o.sort);for(var h=Yn(),u=0;u<s.length;++u){var m=s[u];o.skipNulls&&r[m]===null||Zn(l,pc(r[m],m,c,p,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,h))}var d=l.join(o.delimiter),y=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),d.length>0?y+d:""}});var ni=_((Vd,oi)=>{"use strict";i();var Re=Kr(),Qr=Object.prototype.hasOwnProperty,hc=Array.isArray,O={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Re.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},mc=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ri=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},fc="utf8=%26%2310003%3B",yc="utf8=%E2%9C%93",vc=function(e,r){var o={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,l=s.split(r.delimiter,a),c=-1,p,h=r.charset;if(r.charsetSentinel)for(p=0;p<l.length;++p)l[p].indexOf("utf8=")===0&&(l[p]===yc?h="utf-8":l[p]===fc&&(h="iso-8859-1"),c=p,p=l.length);for(p=0;p<l.length;++p)if(p!==c){var u=l[p],m=u.indexOf("]="),d=m===-1?u.indexOf("="):m+1,y,f;d===-1?(y=r.decoder(u,O.decoder,h,"key"),f=r.strictNullHandling?null:""):(y=r.decoder(u.slice(0,d),O.decoder,h,"key"),f=Re.maybeMap(ri(u.slice(d+1),r),function(T){return r.decoder(T,O.decoder,h,"value")})),f&&r.interpretNumericEntities&&h==="iso-8859-1"&&(f=mc(f)),u.indexOf("[]=")>-1&&(f=hc(f)?[f]:f);var v=Qr.call(o,y);v&&r.duplicates==="combine"?o[y]=Re.combine(o[y],f):(!v||r.duplicates==="last")&&(o[y]=f)}return o},Pc=function(t,e,r,o){for(var s=o?e:ri(e,r),a=t.length-1;a>=0;--a){var l,c=t[a];if(c==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:[].concat(s);else{l=r.plainObjects?Object.create(null):{};var p=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,h=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,u=parseInt(h,10);!r.parseArrays&&h===""?l={0:s}:!isNaN(u)&&c!==h&&String(u)===h&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(l=[],l[u]=s):h!=="__proto__"&&(l[h]=s)}s=l}return s},gc=function(e,r,o,s){if(e){var a=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,p=o.depth>0&&l.exec(a),h=p?a.slice(0,p.index):a,u=[];if(h){if(!o.plainObjects&&Qr.call(Object.prototype,h)&&!o.allowPrototypes)return;u.push(h)}for(var m=0;o.depth>0&&(p=c.exec(a))!==null&&m<o.depth;){if(m+=1,!o.plainObjects&&Qr.call(Object.prototype,p[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(p[1])}if(p){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");u.push("["+a.slice(p.index)+"]")}return Pc(u,r,o,s)}},Tc=function(e){if(!e)return O;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?O.charset:e.charset,o=typeof e.duplicates>"u"?O.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:O.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:O.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:O.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:O.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:O.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:O.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:O.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:O.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:O.decoder,delimiter:typeof e.delimiter=="string"||Re.isRegExp(e.delimiter)?e.delimiter:O.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:O.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:O.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:O.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:O.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:O.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:O.strictNullHandling}};oi.exports=function(t,e){var r=Tc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?vc(t,r):t,s=r.plainObjects?Object.create(null):{},a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],p=gc(c,o[c],r,typeof t=="string");s=Re.merge(s,p,r)}return r.allowSparse===!0?s:Re.compact(s)}});var si=_((jd,ii)=>{"use strict";i();var Sc=ti(),_c=ni(),Ec=Nt();ii.exports={formats:Ec,parse:_c,stringify:Sc}});i();i();i();import*as Ae from"crypto";import{EventEmitter as vi}from"events";i();import*as vo from"crypto";i();var Y=class{computeHMACSignature(e,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,r){throw new Error("computeHMACSignatureAsync not implemented.")}},ye=class extends Error{};var ft=class extends Y{computeHMACSignature(e,r){return vo.createHmac("sha256",r).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,r){return await this.computeHMACSignature(e,r)}};i();import*as Tr from"http";import*as Sr from"https";i();var k=class t{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,r,o,s,a,l,c,p){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(t.TIMEOUT_ERROR_CODE);return e.code=t.TIMEOUT_ERROR_CODE,e}};k.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];k.TIMEOUT_ERROR_CODE="ETIMEDOUT";var X=class{constructor(e,r){this._statusCode=e,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var Po=Tr.default||Tr,go=Sr.default||Sr,xl=new Po.Agent({keepAlive:!0}),bl=new go.Agent({keepAlive:!0}),He=class extends k{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,r,o,s,a,l,c,p){let h=c==="http",u=this._agent;return u||(u=h?xl:bl),new Promise((d,y)=>{let f=(h?Po:go).request({host:e,port:r,path:o,method:s,agent:u,headers:a,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});f.setTimeout(p,()=>{f.destroy(k.makeTimeoutError())}),f.on("response",v=>{d(new gr(v))}),f.on("error",v=>{y(v)}),f.once("socket",v=>{v.connecting?v.once(h?"connect":"secureConnect",()=>{f.write(l),f.end()}):(f.write(l),f.end())})})}},gr=class extends X{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,r)=>{let o="";this._res.setEncoding("utf8"),this._res.on("data",s=>{o+=s}),this._res.once("end",()=>{try{e(JSON.parse(o))}catch(s){r(s)}})})}};i();i();var yt=class t extends k{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=t.makeFetchWithAbortTimeout(e):this._fetchFn=t.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(r,o,s)=>{let a,l=new Promise((p,h)=>{a=setTimeout(()=>{a=null,h(k.makeTimeoutError())},s)}),c=e(r,o);return Promise.race([c,l]).finally(()=>{a&&clearTimeout(a)})}}static makeFetchWithAbortTimeout(e){return async(r,o,s)=>{let a=new AbortController,l=setTimeout(()=>{l=null,a.abort(k.makeTimeoutError())},s);try{return await e(r,Object.assign(Object.assign({},o),{signal:a.signal}))}catch(c){throw c.name==="AbortError"?k.makeTimeoutError():c}finally{l&&clearTimeout(l)}}}getClientName(){return"fetch"}async makeRequest(e,r,o,s,a,l,c,p){let h=c==="http",u=new URL(o,`${h?"http":"https"}://${e}`);u.port=r;let m=s=="POST"||s=="PUT"||s=="PATCH",d=l||(m?"":void 0),y=await this._fetchFn(u.toString(),{method:s,headers:a,body:d},p);return new _r(y)}},_r=class t extends X{constructor(e){super(e.status,t._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let r={};for(let o of e){if(!Array.isArray(o)||o.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[o[0]]=o[1]}return r}};i();var vt=class extends Y{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,r){throw new ye("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,r){let o=new TextEncoder,s=await this.subtleCrypto.importKey("raw",o.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=await this.subtleCrypto.sign("hmac",s,o.encode(e)),l=new Uint8Array(a),c=new Array(l.length);for(let p=0;p<l.length;p++)c[p]=Er[l[p]];return c.join("")}},Er=new Array(256);for(let t=0;t<Er.length;t++)Er[t]=t.toString(16).padStart(2,"0");var Pt=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}secureCompare(e,r){if(e.length!==r.length)return!1;let o=e.length,s=0;for(let a=0;a<o;++a)s|=e.charCodeAt(a)^r.charCodeAt(a);return s===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new yt(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new vt(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var xt={};yo(xt,{StripeAPIError:()=>ve,StripeAuthenticationError:()=>Pe,StripeCardError:()=>gt,StripeConnectionError:()=>Be,StripeError:()=>R,StripeIdempotencyError:()=>St,StripeInvalidGrantError:()=>_t,StripeInvalidRequestError:()=>Tt,StripePermissionError:()=>$e,StripeRateLimitError:()=>ge,StripeSignatureVerificationError:()=>U,StripeUnknownError:()=>Et,generate:()=>To});i();var To=t=>{switch(t.type){case"card_error":return new gt(t);case"invalid_request_error":return new Tt(t);case"api_error":return new ve(t);case"authentication_error":return new Pe(t);case"rate_limit_error":return new ge(t);case"idempotency_error":return new St(t);case"invalid_grant":return new _t(t);default:return new Et(t)}},R=class extends Error{constructor(e={},r=null){super(e.message),this.type=r||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};R.generate=To;var gt=class extends R{constructor(e={}){super(e,"StripeCardError")}},Tt=class extends R{constructor(e={}){super(e,"StripeInvalidRequestError")}},ve=class extends R{constructor(e={}){super(e,"StripeAPIError")}},Pe=class extends R{constructor(e={}){super(e,"StripeAuthenticationError")}},$e=class extends R{constructor(e={}){super(e,"StripePermissionError")}},ge=class extends R{constructor(e={}){super(e,"StripeRateLimitError")}},Be=class extends R{constructor(e={}){super(e,"StripeConnectionError")}},U=class extends R{constructor(e,r,o={}){super(o,"StripeSignatureVerificationError"),this.header=e,this.payload=r}},St=class extends R{constructor(e={}){super(e,"StripeIdempotencyError")}},_t=class extends R{constructor(e={}){super(e,"StripeInvalidGrantError")}},Et=class extends R{constructor(e={}){super(e,"StripeUnknownError")}};i();var ai=Tl(si(),1),Jr=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"];function li(t){return t&&typeof t=="object"&&Jr.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function re(t){return ai.stringify(t,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString()}).replace(/%5B/g,"[").replace(/%5D/g,"]")}var Lt=(()=>{let t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let r=e.replace(/["\n\r\u2028\u2029]/g,o=>t[o]);return o=>r.replace(/\{([\s\S]+?)\}/g,(s,a)=>encodeURIComponent(o[a]||""))}})();function ui(t){let e=t.match(/\{\w+\}/g);return e?e.map(r=>r.replace(/[{}]/g,"")):[]}function Ht(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!li(t[0]))return t.shift();let e=Object.keys(t[0]),r=e.filter(o=>Jr.includes(o));return r.length>0&&r.length!==e.length&&Je(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function ci(t){let e={auth:null,host:null,headers:{},settings:{}};if(t.length>0){let r=t[t.length-1];if(typeof r=="string")e.auth=t.pop();else if(li(r)){let o=Object.assign({},t.pop()),s=Object.keys(o).filter(a=>!Jr.includes(a));s.length&&Je(`Invalid options found (${s.join(", ")}); ignoring.`),o.apiKey&&(e.auth=o.apiKey),o.idempotencyKey&&(e.headers["Idempotency-Key"]=o.idempotencyKey),o.stripeAccount&&(e.headers["Stripe-Account"]=o.stripeAccount),o.apiVersion&&(e.headers["Stripe-Version"]=o.apiVersion),Number.isInteger(o.maxNetworkRetries)&&(e.settings.maxNetworkRetries=o.maxNetworkRetries),Number.isInteger(o.timeout)&&(e.settings.timeout=o.timeout),o.host&&(e.host=o.host)}}return e}function pi(t){let e=this,r=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...o){e.apply(this,o)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r}function $t(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(t[r]!=null&&(e[r]=t[r]),e),{})}function di(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,r)=>(e[xc(r)]=t[r],e),{}):t}function xc(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Qe(t,e){return e?t.then(r=>{setTimeout(()=>{e(null,r)},0)},r=>{setTimeout(()=>{e(r,null)},0)}):t}function hi(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function Je(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function bc(t){let e=typeof t;return(e==="function"||e==="object")&&!!t}function mi(t){let e={},r=(o,s)=>{Object.keys(o).forEach(a=>{let l=o[a],c=s?`${s}[${a}]`:a;if(bc(l)){if(!(l instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(l,"data"))return r(l,c);e[c]=l}else e[c]=String(l)})};return r(t,null),e}function Bt(t,e,r){if(!Number.isInteger(e)){if(r!==void 0)return r;throw new Error(`${t} must be an integer`)}return e}function fi(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function yi(t){let e=t.reduce((s,a)=>s+a.length,0),r=new Uint8Array(e),o=0;return t.forEach(s=>{r.set(s,o),o+=s.length}),r}import{exec as Oc}from"child_process";var Yr=class extends R{},zt=class extends Pt{constructor(){super(),this._exec=Oc,this._UNAME_CACHE=null}uuid4(){return Ae.randomUUID?Ae.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,r)=>{try{this._exec("uname -a",(o,s)=>{if(o)return e(null);e(s)})}catch{e(null)}})),this._UNAME_CACHE}secureCompare(e,r){if(!e||!r)throw new Error("secureCompare must receive two arguments");if(e.length!==r.length)return!1;if(Ae.timingSafeEqual){let o=new TextEncoder,s=o.encode(e),a=o.encode(r);return Ae.timingSafeEqual(s,a)}return super.secureCompare(e,r)}createEmitter(){return new vi}tryBufferData(e){if(!(e.file.data instanceof vi))return Promise.resolve(e);let r=[];return new Promise((o,s)=>{e.file.data.on("data",a=>{r.push(a)}).once("end",()=>{let a=Object.assign({},e);a.file.data=yi(r),o(a)}).on("error",a=>{s(new Yr({message:"An error occurred while attempting to process the file for upload.",detail:a}))})})}createNodeHttpClient(e){return new He(e)}createDefaultHttpClient(){return new He}createNodeCryptoProvider(){return new ft}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};i();i();var wc=60,Wt=class t{constructor(e,r){this._stripe=e,this._maxBufferedRequestMetric=r}_addHeadersDirectlyToObject(e,r){e.requestId=r["request-id"],e.stripeAccount=e.stripeAccount||r["stripe-account"],e.apiVersion=e.apiVersion||r["stripe-version"],e.idempotencyKey=e.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(e,r,o){let s=Date.now(),a=s-e.request_start_time;return $t({api_version:o["stripe-version"],account:o["stripe-account"],idempotency_key:o["idempotency-key"],method:e.method,path:e.path,status:r,request_id:this._getRequestId(o),elapsed:a,request_start_time:e.request_start_time,request_end_time:s})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,r,o){return s=>{let a=s.getHeaders(),l=()=>{let p=this._makeResponseEvent(e,s.getStatusCode(),a);this._stripe._emitter.emit("response",p),this._recordRequestMetrics(this._getRequestId(a),p.elapsed,r)},c=s.toStream(l);return this._addHeadersDirectlyToObject(c,a),o(null,c)}}_jsonResponseHandler(e,r,o){return s=>{let a=s.getHeaders(),l=this._getRequestId(a),c=s.getStatusCode(),p=this._makeResponseEvent(e,c,a);this._stripe._emitter.emit("response",p),s.toJSON().then(h=>{if(h.error){let u;throw typeof h.error=="string"&&(h.error={type:h.error,message:h.error_description}),h.error.headers=a,h.error.statusCode=c,h.error.requestId=l,c===401?u=new Pe(h.error):c===403?u=new $e(h.error):c===429?u=new ge(h.error):u=R.generate(h.error),u}return h},h=>{throw new ve({message:"Invalid JSON received from the Stripe API",exception:h,requestId:a["request-id"]})}).then(h=>{this._recordRequestMetrics(l,p.elapsed,r);let u=s.getRawResponse();this._addHeadersDirectlyToObject(u,a),Object.defineProperty(h,"lastResponse",{enumerable:!1,writable:!1,value:u}),o(null,h)},h=>o(h,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,r,o,s){return s&&r===0&&k.CONNECTION_CLOSED_ERROR_CODES.includes(s.code)?!0:r>=o?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,r=null){let o=this._stripe.getInitialNetworkRetryDelay(),s=this._stripe.getMaxNetworkRetryDelay(),a=Math.min(o*Math.pow(e-1,2),s);return a*=.5*(1+Math.random()),a=Math.max(o,a),Number.isInteger(r)&&r<=wc&&(a=Math.max(a,r)),a*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,r){let o=this._getMaxNetworkRetries(r);return e==="POST"&&o>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(e,r,o,s,a,l,c){let p={Authorization:e?`Bearer ${e}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":s,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":o,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(a,c)},h=a=="POST"||a=="PUT"||a=="PATCH";return(h||r)&&(h||Je(`${a} method had non-zero contentLength but no payload is expected for this verb`),p["Content-Length"]=r),Object.assign($t(p),di(l))}_getUserAgentString(){let e=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${e} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,r,o){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Je("Request metrics buffer is full, dropping telemetry message.");else{let s={request_id:e,request_duration_ms:r};o&&o.length>0&&(s.usage=o),this._stripe._prevRequestMetrics.push(s)}}_request(e,r,o,s,a,l={},c=[],p,h=null){let u,m=(f,v,T,g,x)=>setTimeout(f,this._getSleepTimeInMS(g,x),v,T,g+1),d=(f,v,T)=>{let g=l.settings&&l.settings.timeout&&Number.isInteger(l.settings.timeout)&&l.settings.timeout>=0?l.settings.timeout:this._stripe.getApiField("timeout"),x=this._stripe.getApiField("httpClient").makeRequest(r||this._stripe.getApiField("host"),this._stripe.getApiField("port"),o,e,v,u,this._stripe.getApiField("protocol"),g),P=Date.now(),b=$t({api_version:f,account:v["Stripe-Account"],idempotency_key:v["Idempotency-Key"],method:e,path:o,request_start_time:P}),C=T||0,F=this._getMaxNetworkRetries(l.settings||{});this._stripe._emitter.emit("request",b),x.then(I=>t._shouldRetry(I,C,F)?m(d,f,v,C,I.getHeaders()["retry-after"]):l.streaming&&I.getStatusCode()<400?this._streamingResponseHandler(b,c,p)(I):this._jsonResponseHandler(b,c,p)(I)).catch(I=>{if(t._shouldRetry(null,C,F,I))return m(d,f,v,C,null);{let H=I.code&&I.code===k.TIMEOUT_ERROR_CODE;return p(new Be({message:H?`Request aborted due to timeout being reached (${g}ms)`:t._generateConnectionErrorMessage(C),detail:I}))}})},y=(f,v)=>{if(f)return p(f);u=v,this._stripe.getClientUserAgent(T=>{var g,x;let P=this._stripe.getApiField("version"),b=this._makeHeaders(a,u.length,P,T,e,(g=l.headers)!==null&&g!==void 0?g:null,(x=l.settings)!==null&&x!==void 0?x:{});d(P,b,0)})};h?h(e,s,l.headers,y):y(null,re(s||{}))}};i();i();i();var Vt=class{constructor(e,r,o,s){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=o,this.stripeResource=s}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=Ti(this.requestArgs);if(this.index<e.data.length){let o=r?e.data.length-1-this.index:this.index,s=e.data[o];return this.index+=1,{value:s,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let o=await this.pagePromise;return this.iterate(o)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=e,e}},Xr=class extends Vt{getNextPage(e){let r=Ti(this.requestArgs),o=Ic(e,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:o})}},Zr=class extends Vt{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},gi=(t,e,r,o)=>r.methodType==="search"?Pi(new Zr(o,e,r,t)):r.methodType==="list"?Pi(new Xr(o,e,r,t)):null,Pi=t=>{let e=Mc((...s)=>t.next(...s)),r=Gc(e),o={autoPagingEach:e,autoPagingToArray:r,next:()=>t.next(),return:()=>({}),[Rc()]:()=>o};return o};function Rc(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Ac(t){if(t.length<2)return null;let e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Cc(t){if(t.length===0)return;let e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(o,s){let a=e(o);s(a)}}function Ic(t,e){let r=e?0:t.data.length-1,o=t.data[r],s=o&&o.id;if(!s)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return s}function Mc(t){return function(){let r=[].slice.call(arguments),o=Cc(r),s=Ac(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let a=Dc(t,o);return Qe(a,s)}}function Gc(t){return function(r,o){let s=r&&r.limit;if(!s)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(s>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let a=new Promise((l,c)=>{let p=[];t(h=>{if(p.push(h),p.length>=s)return!1}).then(()=>{l(p)}).catch(c)});return Qe(a,o)}}function Dc(t,e){return new Promise((r,o)=>{function s(a){if(a.done){r();return}let l=a.value;return new Promise(c=>{e(l,c)}).then(c=>c===!1?s({done:!0,value:void 0}):t().then(s))}t().then(s).catch(o)})}function Ti(t){let e=[].slice.call(t);return!!Ht(e).ending_before}function Si(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){let r=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=ui(t.fullPath||this.createResourcePathWithSymbols(t.path||""));let o=Qe(this._makeRequest(e,t,{}),r);return Object.assign(o,gi(this,e,t,o)),o}}n.extend=pi;n.method=Si;n.MAX_BUFFERED_REQUEST_METRICS=100;function n(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Lt(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=Lt(this.path),this.initialize(...arguments)}n.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){let r=[this.basePath(e),this.path(e)];if(typeof t=="function"){let o=t(e);o&&r.push(o)}else r.push(t);return this._joinUrlParts(r)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,r){let o=(e.method||"GET").toUpperCase(),s=e.usage||[],a=e.urlParams||[],l=e.encode||(F=>F),c=!!e.fullPath,p=Lt(c?e.fullPath:e.path||""),h=c?e.fullPath:this.createResourcePathWithSymbols(e.path),u=[].slice.call(t),m=a.reduce((F,I)=>{let H=u.shift();if(typeof H!="string")throw new Error(`Stripe: Argument "${I}" must be a string, but got: ${H} (on API request to \`${o} ${h}\`)`);return F[I]=H,F},{}),d=Ht(u),y=l(Object.assign({},d,r)),f=ci(u),v=f.host||e.host,T=!!e.streaming;if(u.filter(F=>F!=null).length)throw new Error(`Stripe: Unknown arguments (${u}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${h}\`)`);let g=c?p(m):this.createFullPath(p,m),x=Object.assign(f.headers,e.headers);e.validator&&e.validator(y,{headers:x});let P=e.method==="GET"||e.method==="DELETE";return{requestMethod:o,requestPath:g,bodyData:P?{}:y,queryData:P?y:{},auth:f.auth,headers:x,host:v??null,streaming:T,settings:f.settings,usage:s}},_makeRequest(t,e,r){return new Promise((o,s)=>{var a;let l;try{l=this._getRequestOpts(t,e,r)}catch(d){s(d);return}function c(d,y){d?s(d):o(e.transformResponseData?e.transformResponseData(y):y)}let p=Object.keys(l.queryData).length===0,h=[l.requestPath,p?"":"?",re(l.queryData)].join(""),{headers:u,settings:m}=l;this._stripe._requestSender._request(l.requestMethod,l.host,h,l.bodyData,l.auth,{headers:u,settings:m,streaming:l.streaming},l.usage,c,(a=this.requestDataProcessor)===null||a===void 0?void 0:a.bind(this))})}};i();function eo(t){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(u,m,d,y,f,v){try{this.signature.verifyHeader(u,m,d,y||e.DEFAULT_TOLERANCE,f,v)}catch(g){throw g instanceof ye&&(g.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),g}return u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},async constructEventAsync(u,m,d,y,f,v){return await this.signature.verifyHeaderAsync(u,m,d,y||e.DEFAULT_TOLERANCE,f,v),u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},generateTestHeaderString:function(u){let m=h(u),d=m.signature||m.cryptoProvider.computeHMACSignature(m.payloadString,m.secret);return m.generateHeaderString(d)},generateTestHeaderStringAsync:async function(u){let m=h(u),d=m.signature||await m.cryptoProvider.computeHMACSignatureAsync(m.payloadString,m.secret);return m.generateHeaderString(d)}},r={EXPECTED_SCHEME:"v1",verifyHeader(u,m,d,y,f,v){let{decodedHeader:T,decodedPayload:g,details:x,suspectPayloadType:P}=s(u,m,this.EXPECTED_SCHEME),b=/\s/.test(d);f=f||p();let C=f.computeHMACSignature(o(g,x),d);return a(g,T,x,C,y,P,b,v),!0},async verifyHeaderAsync(u,m,d,y,f,v){let{decodedHeader:T,decodedPayload:g,details:x,suspectPayloadType:P}=s(u,m,this.EXPECTED_SCHEME),b=/\s/.test(d);f=f||p();let C=await f.computeHMACSignatureAsync(o(g,x),d);return a(g,T,x,C,y,P,b,v)}};function o(u,m){return`${m.timestamp}.${u}`}function s(u,m,d){if(!u)throw new U(m,u,{message:"No webhook payload was provided."});let y=typeof u!="string"&&!(u instanceof Uint8Array),f=new TextDecoder("utf8"),v=u instanceof Uint8Array?f.decode(u):u;if(Array.isArray(m))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(m==null||m=="")throw new U(m,u,{message:"No stripe-signature header value was provided."});let T=m instanceof Uint8Array?f.decode(m):m,g=l(T,d);if(!g||g.timestamp===-1)throw new U(T,v,{message:"Unable to extract timestamp and signatures from header"});if(!g.signatures.length)throw new U(T,v,{message:"No signatures found with expected scheme"});return{decodedPayload:v,decodedHeader:T,details:g,suspectPayloadType:y}}function a(u,m,d,y,f,v,T,g){let x=!!d.signatures.filter(t.secureCompare.bind(t,y)).length,P=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing`,b=T?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!x)throw v?new U(m,u,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+P+`
`+b}):new U(m,u,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+P+`
`+b});let C=Math.floor((typeof g=="number"?g:Date.now())/1e3)-d.timestamp;if(f>0&&C>f)throw new U(m,u,{message:"Timestamp outside the tolerance zone"});return!0}function l(u,m){return typeof u!="string"?null:u.split(",").reduce((d,y)=>{let f=y.split("=");return f[0]==="t"&&(d.timestamp=parseInt(f[1],10)),f[0]===m&&d.signatures.push(f[1]),d},{timestamp:-1,signatures:[]})}let c=null;function p(){return c||(c=t.createDefaultCryptoProvider()),c}function h(u){if(!u)throw new R({message:"Options are required"});let m=Math.floor(u.timestamp)||Math.floor(Date.now()/1e3),d=u.scheme||r.EXPECTED_SCHEME,y=u.cryptoProvider||p(),f=`${m}.${u.payload}`,v=T=>`t=${m},${d}=${T}`;return Object.assign(Object.assign({},u),{timestamp:m,scheme:d,cryptoProvider:y,payloadString:f,generateHeaderString:v})}return e.signature=r,e}i();var _i="2024-06-20";var Ue={};yo(Ue,{Account:()=>co,AccountLinks:()=>Qs,AccountSessions:()=>Js,Accounts:()=>co,ApplePayDomains:()=>Ys,ApplicationFees:()=>Xs,Apps:()=>tp,Balance:()=>Zs,BalanceTransactions:()=>ta,Billing:()=>rp,BillingPortal:()=>op,Charges:()=>ra,Checkout:()=>np,Climate:()=>ip,ConfirmationTokens:()=>oa,CountrySpecs:()=>ia,Coupons:()=>sa,CreditNotes:()=>aa,CustomerSessions:()=>la,Customers:()=>ua,Disputes:()=>ca,Entitlements:()=>sp,EphemeralKeys:()=>da,Events:()=>ma,ExchangeRates:()=>ya,FileLinks:()=>va,Files:()=>ga,FinancialConnections:()=>ap,Forwarding:()=>lp,Identity:()=>up,InvoiceItems:()=>Ta,Invoices:()=>Sa,Issuing:()=>cp,Mandates:()=>_a,OAuth:()=>xa,PaymentIntents:()=>ba,PaymentLinks:()=>Oa,PaymentMethodConfigurations:()=>wa,PaymentMethodDomains:()=>Ra,PaymentMethods:()=>Aa,Payouts:()=>Ca,Plans:()=>Ia,Prices:()=>Ma,Products:()=>Ga,PromotionCodes:()=>Da,Quotes:()=>ka,Radar:()=>pp,Refunds:()=>qa,Reporting:()=>dp,Reviews:()=>Fa,SetupAttempts:()=>Na,SetupIntents:()=>Ua,ShippingRates:()=>La,Sigma:()=>hp,Sources:()=>Ha,SubscriptionItems:()=>$a,SubscriptionSchedules:()=>Ba,Subscriptions:()=>za,Tax:()=>mp,TaxCodes:()=>Va,TaxIds:()=>Ka,TaxRates:()=>ja,Terminal:()=>fp,TestHelpers:()=>yp,Tokens:()=>Ja,Topups:()=>Ya,Transfers:()=>Xa,Treasury:()=>vp,WebhookEndpoints:()=>Za});i();i();function qc(t,e){for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let o=r[0].toLowerCase()+r.substring(1),s=new e[r](t);this[o]=s}}function A(t,e){return function(r){return new qc(r,e)}}i();var pe=n.method,Ei=n.extend({retrieve:pe({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:pe({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:pe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:pe({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:pe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:pe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:pe({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});i();var xi=n.method,bi=n.extend({retrieve:xi({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:xi({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});i();var Ce=n.method,Oi=n.extend({create:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),reverse:Ce({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});i();var Ye=n.method,wi=n.extend({retrieve:Ye({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Ye({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Ye({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Ye({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Ye({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});i();var Ri=n.method,Ai=n.extend({create:Ri({method:"POST",fullPath:"/v1/tax/calculations"}),listLineItems:Ri({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});i();var Kt=n.method,Ci=n.extend({create:Kt({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Kt({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Kt({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Kt({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});i();var jt=n.method,Ii=n.extend({deliverCard:jt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:jt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:jt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:jt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})});i();var Qt=n.method,Mi=n.extend({create:Qt({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Qt({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Qt({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Qt({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});i();var Jt=n.method,Gi=n.extend({create:Jt({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Jt({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Jt({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Jt({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});i();var Xe=n.method,Di=n.extend({create:Xe({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Xe({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Xe({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Xe({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Xe({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});i();var Fc=n.method,ki=n.extend({create:Fc({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});i();var Nc=n.method,qi=n.extend({create:Nc({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});i();var to=n.method,Fi=n.extend({create:to({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:to({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:to({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});i();var Uc=n.method,Ni=n.extend({fundCashBalance:Uc({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});i();var ro=n.method,Ui=n.extend({create:ro({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:ro({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:ro({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});i();var Ze=n.method,Li=n.extend({create:Ze({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Ze({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Ze({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Ze({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Ze({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});i();var Hi=n.method,$i=n.extend({retrieve:Hi({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:Hi({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});i();var Yt=n.method,Bi=n.extend({create:Yt({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Yt({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Yt({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Yt({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});i();var Ie=n.method,zi=n.extend({create:Ie({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ie({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ie({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ie({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:Ie({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ie({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});i();var oo=n.method,Wi=n.extend({fail:oo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:oo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:oo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});i();var Xt=n.method,Vi=n.extend({create:Xt({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Xt({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Xt({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Xt({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});i();var et=n.method,Ki=n.extend({create:et({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:et({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:et({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:et({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:et({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});i();var Lc=n.method,ji=n.extend({create:Lc({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});i();var Hc=n.method,Qi=n.extend({create:Hc({method:"POST",fullPath:"/v1/billing/meter_events"})});i();var de=n.method,Ji=n.extend({create:de({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:de({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:de({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:de({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:de({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:de({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:de({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});i();var tt=n.method,Yi=n.extend({create:tt({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:tt({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:tt({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:tt({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:tt({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});i();var Zt=n.method,Xi=n.extend({update:Zt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Zt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Zt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Zt({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});i();var er=n.method,Zi=n.extend({create:er({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:er({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:er({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:er({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});i();var tr=n.method,es=n.extend({update:tr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:tr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:tr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:tr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});i();var rr=n.method,ts=n.extend({create:rr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:rr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:rr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:rr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});i();var no=n.method,rs=n.extend({activate:no({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:no({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:no({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});i();var or=n.method,os=n.extend({create:or({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:or({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:or({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:or({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});i();var ns=n.method,is=n.extend({retrieve:ns({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:ns({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});i();var ss=n.method,as=n.extend({retrieve:ss({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:ss({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});i();var $c=n.method,ls=n.extend({presentPaymentMethod:$c({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})});i();var W=n.method,us=n.extend({create:W({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:W({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:W({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:W({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});i();var Bc=n.method,cs=n.extend({create:Bc({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});i();var ps=n.method,ds=n.extend({retrieve:ps({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:ps({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});i();var zc=n.method,hs=n.extend({create:zc({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});i();var ms=n.method,fs=n.extend({retrieve:ms({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:ms({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});i();var Wc=n.method,ys=n.extend({expire:Wc({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});i();var nr=n.method,vs=n.extend({create:nr({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:nr({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:nr({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:nr({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});i();var io=n.method,Ps=n.extend({create:io({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:io({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:io({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});i();var gs=n.method,Ts=n.extend({retrieve:gs({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:gs({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});i();var so=n.method,Ss=n.extend({create:so({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:so({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:so({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});i();var _s=n.method,Es=n.extend({retrieve:_s({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:_s({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});i();var ir=n.method,xs=n.extend({create:ir({method:"POST",fullPath:"/v1/apps/secrets"}),list:ir({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:ir({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:ir({method:"GET",fullPath:"/v1/apps/secrets/find"})});i();var Vc=n.method,bs=n.extend({create:Vc({method:"POST",fullPath:"/v1/billing_portal/sessions"})});i();var Me=n.method,Os=n.extend({create:Me({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Me({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Me({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Me({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Me({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Me({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});i();var ws=n.method,Rs=n.extend({create:ws({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:ws({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});i();var As=n.method,Cs=n.extend({retrieve:As({method:"GET",fullPath:"/v1/tax/settings"}),update:As({method:"POST",fullPath:"/v1/tax/settings"})});i();var Is=n.method,Ms=n.extend({retrieve:Is({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Is({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});i();var rt=n.method,Gs=n.extend({create:rt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:rt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:rt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:rt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:rt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});i();var ao=n.method,Ds=n.extend({retrieve:ao({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:ao({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:ao({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});i();var ks=n.method,qs=n.extend({retrieve:ks({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:ks({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});i();var lo=n.method,Fs=n.extend({createForceCapture:lo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:lo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:lo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});i();var Ns=n.method,Us=n.extend({retrieve:Ns({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:Ns({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});i();var uo=n.method,Ls=n.extend({retrieve:uo({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:uo({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:uo({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});i();var sr=n.method,Hs=n.extend({retrieve:sr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:sr({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:sr({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:sr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});i();var $s=n.method,Bs=n.extend({retrieve:$s({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:$s({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});i();var ar=n.method,zs=n.extend({create:ar({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:ar({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:ar({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:ar({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});i();var ot=n.method,Ws=n.extend({create:ot({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:ot({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:ot({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:ot({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:ot({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});i();var Vs=n.method,Ks=n.extend({retrieve:Vs({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:Vs({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});i();var Ge=n.method,js=n.extend({create:Ge({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Ge({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Ge({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Ge({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Ge({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Ge({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});i();var w=n.method,co=n.extend({create:w({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?w({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),w({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:w({method:"POST",fullPath:"/v1/accounts/{account}"}),list:w({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:w({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:w({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:w({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:w({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:w({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:w({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:w({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:w({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:w({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:w({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:w({method:"GET",fullPath:"/v1/account"}),retrieveCapability:w({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:w({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:w({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:w({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:w({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:w({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});i();var Kc=n.method,Qs=n.extend({create:Kc({method:"POST",fullPath:"/v1/account_links"})});i();var jc=n.method,Js=n.extend({create:jc({method:"POST",fullPath:"/v1/account_sessions"})});i();var lr=n.method,Ys=n.extend({create:lr({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:lr({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:lr({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:lr({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});i();var De=n.method,Xs=n.extend({retrieve:De({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:De({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:De({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:De({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:De({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:De({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});i();var Qc=n.method,Zs=n.extend({retrieve:Qc({method:"GET",fullPath:"/v1/balance"})});i();var ea=n.method,ta=n.extend({retrieve:ea({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:ea({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});i();var ke=n.method,ra=n.extend({create:ke({method:"POST",fullPath:"/v1/charges"}),retrieve:ke({method:"GET",fullPath:"/v1/charges/{charge}"}),update:ke({method:"POST",fullPath:"/v1/charges/{charge}"}),list:ke({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:ke({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:ke({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});i();var Jc=n.method,oa=n.extend({retrieve:Jc({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});i();var na=n.method,ia=n.extend({retrieve:na({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:na({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});i();var nt=n.method,sa=n.extend({create:nt({method:"POST",fullPath:"/v1/coupons"}),retrieve:nt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:nt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:nt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:nt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});i();var oe=n.method,aa=n.extend({create:oe({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:oe({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:oe({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:oe({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:oe({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:oe({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:oe({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:oe({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});i();var Yc=n.method,la=n.extend({create:Yc({method:"POST",fullPath:"/v1/customer_sessions"})});i();var E=n.method,ua=n.extend({create:E({method:"POST",fullPath:"/v1/customers"}),retrieve:E({method:"GET",fullPath:"/v1/customers/{customer}"}),update:E({method:"POST",fullPath:"/v1/customers/{customer}"}),list:E({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:E({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:E({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:E({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:E({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:E({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:E({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:E({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:E({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:E({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:E({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:E({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:E({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:E({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:E({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:E({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:E({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:E({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:E({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:E({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:E({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:E({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:E({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:E({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:E({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});i();var ur=n.method,ca=n.extend({retrieve:ur({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:ur({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:ur({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:ur({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});i();var pa=n.method,da=n.extend({create:pa({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:pa({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});i();var ha=n.method,ma=n.extend({retrieve:ha({method:"GET",fullPath:"/v1/events/{id}"}),list:ha({method:"GET",fullPath:"/v1/events",methodType:"list"})});i();var fa=n.method,ya=n.extend({retrieve:fa({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:fa({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});i();var cr=n.method,va=n.extend({create:cr({method:"POST",fullPath:"/v1/file_links"}),retrieve:cr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:cr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:cr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});i();i();var Xc=(t,e,r)=>{let o=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${o}`;let s=new TextEncoder,a=new Uint8Array(0),l=s.encode(`\r
`);function c(u){let m=a,d=u instanceof Uint8Array?u:new Uint8Array(s.encode(u));a=new Uint8Array(m.length+d.length+2),a.set(m),a.set(d,m.length),a.set(l,a.length-2)}function p(u){return`"${u.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let h=mi(e);for(let u in h){if(!Object.prototype.hasOwnProperty.call(h,u))continue;let m=h[u];if(c(`--${o}`),Object.prototype.hasOwnProperty.call(m,"data")){let d=m;c(`Content-Disposition: form-data; name=${p(u)}; filename=${p(d.name||"blob")}`),c(`Content-Type: ${d.type||"application/octet-stream"}`),c(""),c(d.data)}else c(`Content-Disposition: form-data; name=${p(u)}`),c(""),c(m)}return c(`--${o}--`),a};function Pa(t,e,r,o){if(e=e||{},t!=="POST")return o(null,re(e));this._stripe._platformFunctions.tryBufferData(e).then(s=>{let a=Xc(t,s,r);return o(null,a)}).catch(s=>o(s,null))}var po=n.method,ga=n.extend({create:po({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:po({method:"GET",fullPath:"/v1/files/{file}"}),list:po({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:Pa});i();var it=n.method,Ta=n.extend({create:it({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:it({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:it({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:it({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:it({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});i();var G=n.method,Sa=n.extend({create:G({method:"POST",fullPath:"/v1/invoices"}),retrieve:G({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:G({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:G({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:G({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:G({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:G({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:G({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:G({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:G({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:G({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:G({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:G({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:G({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:G({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:G({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:G({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:G({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:G({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});i();var Zc=n.method,_a=n.extend({retrieve:Zc({method:"GET",fullPath:"/v1/mandates/{mandate}"})});i();var Ea=n.method,ho="connect.stripe.com",xa=n.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let r="oauth/authorize";return e.express&&(r=`express/${r}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${ho}/${r}?${re(t)}`},token:Ea({method:"POST",path:"oauth/token",host:ho}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),Ea({method:"POST",path:"oauth/deauthorize",host:ho}).apply(this,[t,...e])}});i();var L=n.method,ba=n.extend({create:L({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:L({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:L({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:L({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:L({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:L({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});i();var st=n.method,Oa=n.extend({create:st({method:"POST",fullPath:"/v1/payment_links"}),retrieve:st({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:st({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:st({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:st({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});i();var pr=n.method,wa=n.extend({create:pr({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:pr({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:pr({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:pr({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});i();var at=n.method,Ra=n.extend({create:at({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:at({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:at({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:at({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:at({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});i();var qe=n.method,Aa=n.extend({create:qe({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:qe({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:qe({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:qe({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:qe({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:qe({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});i();var Fe=n.method,Ca=n.extend({create:Fe({method:"POST",fullPath:"/v1/payouts"}),retrieve:Fe({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Fe({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Fe({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Fe({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Fe({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});i();var lt=n.method,Ia=n.extend({create:lt({method:"POST",fullPath:"/v1/plans"}),retrieve:lt({method:"GET",fullPath:"/v1/plans/{plan}"}),update:lt({method:"POST",fullPath:"/v1/plans/{plan}"}),list:lt({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:lt({method:"DELETE",fullPath:"/v1/plans/{plan}"})});i();var ut=n.method,Ma=n.extend({create:ut({method:"POST",fullPath:"/v1/prices"}),retrieve:ut({method:"GET",fullPath:"/v1/prices/{price}"}),update:ut({method:"POST",fullPath:"/v1/prices/{price}"}),list:ut({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:ut({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});i();var V=n.method,Ga=n.extend({create:V({method:"POST",fullPath:"/v1/products"}),retrieve:V({method:"GET",fullPath:"/v1/products/{id}"}),update:V({method:"POST",fullPath:"/v1/products/{id}"}),list:V({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:V({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:V({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:V({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:V({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:V({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:V({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});i();var dr=n.method,Da=n.extend({create:dr({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:dr({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:dr({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:dr({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});i();var K=n.method,ka=n.extend({create:K({method:"POST",fullPath:"/v1/quotes"}),retrieve:K({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:K({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:K({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:K({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:K({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:K({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:K({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:K({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:K({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});i();var ct=n.method,qa=n.extend({create:ct({method:"POST",fullPath:"/v1/refunds"}),retrieve:ct({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:ct({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:ct({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:ct({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});i();var mo=n.method,Fa=n.extend({retrieve:mo({method:"GET",fullPath:"/v1/reviews/{review}"}),list:mo({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:mo({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});i();var ep=n.method,Na=n.extend({list:ep({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});i();var he=n.method,Ua=n.extend({create:he({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:he({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:he({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:he({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:he({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:he({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:he({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});i();var hr=n.method,La=n.extend({create:hr({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:hr({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:hr({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:hr({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});i();var pt=n.method,Ha=n.extend({create:pt({method:"POST",fullPath:"/v1/sources"}),retrieve:pt({method:"GET",fullPath:"/v1/sources/{source}"}),update:pt({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:pt({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:pt({method:"POST",fullPath:"/v1/sources/{source}/verify"})});i();var me=n.method,$a=n.extend({create:me({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:me({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:me({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:me({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:me({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:me({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:me({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})});i();var Ne=n.method,Ba=n.extend({create:Ne({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Ne({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Ne({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});i();var ne=n.method,za=n.extend({create:ne({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ne({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ne({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ne({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ne({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ne({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:ne({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ne({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});i();var Wa=n.method,Va=n.extend({retrieve:Wa({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:Wa({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});i();var mr=n.method,Ka=n.extend({create:mr({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:mr({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:mr({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:mr({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});i();var fr=n.method,ja=n.extend({create:fr({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:fr({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:fr({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:fr({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});i();var Qa=n.method,Ja=n.extend({create:Qa({method:"POST",fullPath:"/v1/tokens"}),retrieve:Qa({method:"GET",fullPath:"/v1/tokens/{token}"})});i();var dt=n.method,Ya=n.extend({create:dt({method:"POST",fullPath:"/v1/topups"}),retrieve:dt({method:"GET",fullPath:"/v1/topups/{topup}"}),update:dt({method:"POST",fullPath:"/v1/topups/{topup}"}),list:dt({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:dt({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});i();var ie=n.method,Xa=n.extend({create:ie({method:"POST",fullPath:"/v1/transfers"}),retrieve:ie({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ie({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ie({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ie({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ie({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ie({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ie({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});i();var ht=n.method,Za=n.extend({create:ht({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:ht({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:ht({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:ht({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:ht({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var tp=A("apps",{Secrets:xs}),rp=A("billing",{MeterEventAdjustments:ji,MeterEvents:Qi,Meters:Ji}),op=A("billingPortal",{Configurations:Gi,Sessions:bs}),np=A("checkout",{Sessions:Os}),ip=A("climate",{Orders:Yi,Products:as,Suppliers:Ms}),sp=A("entitlements",{ActiveEntitlements:bi,Features:Bi}),ap=A("financialConnections",{Accounts:Ei,Sessions:Rs,Transactions:Us}),lp=A("forwarding",{Requests:Ss}),up=A("identity",{VerificationReports:Ks,VerificationSessions:js}),cp=A("issuing",{Authorizations:wi,Cardholders:Ci,Cards:Mi,Disputes:Li,PersonalizationDesigns:os,PhysicalBundles:is,Tokens:Ds,Transactions:Ls}),pp=A("radar",{EarlyFraudWarnings:$i,ValueListItems:zs,ValueLists:Ws}),dp=A("reporting",{ReportRuns:Ps,ReportTypes:Ts}),hp=A("sigma",{ScheduledQueryRuns:Es}),mp=A("tax",{Calculations:Ai,Registrations:vs,Settings:Cs,Transactions:Hs}),fp=A("terminal",{Configurations:Di,ConnectionTokens:qi,Locations:Ki,Readers:us}),yp=A("testHelpers",{ConfirmationTokens:ki,Customers:Ni,Refunds:ys,TestClocks:Gs,Issuing:A("issuing",{Authorizations:Oi,Cards:Ii,PersonalizationDesigns:rs,Transactions:Fs}),Terminal:A("terminal",{Readers:ls}),Treasury:A("treasury",{InboundTransfers:Wi,OutboundPayments:Xi,OutboundTransfers:es,ReceivedCredits:cs,ReceivedDebits:hs})}),vp=A("treasury",{CreditReversals:Fi,DebitReversals:Ui,FinancialAccounts:zi,InboundTransfers:Vi,OutboundPayments:Zi,OutboundTransfers:ts,ReceivedCredits:ds,ReceivedDebits:fs,TransactionEntries:qs,Transactions:Bs});var el="api.stripe.com",tl="443",rl="/v1/",ol=_i,nl=8e4,il=2,sl=.5,Pp=["name","version","url","partner_id"],al=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],gp=t=>new Wt(t,n.MAX_BUFFERED_REQUEST_METRICS);function ll(t,e=gp){o.PACKAGE_VERSION="16.6.0",o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},fi()),o.StripeResource=n,o.resources=Ue,o.HttpClient=k,o.HttpClientResponse=X,o.CryptoProvider=Y;function r(s=t){return eo(s)}o.webhooks=Object.assign(r,eo(t));function o(s,a={}){if(!(this instanceof o))return new o(s,a);let l=this._getPropsFromConfig(a);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let c=l.httpAgent||null;this._api={auth:null,host:l.host||el,port:l.port||tl,protocol:l.protocol||"https",basePath:rl,version:l.apiVersion||ol,timeout:Bt("timeout",l.timeout,nl),maxNetworkRetries:Bt("maxNetworkRetries",l.maxNetworkRetries,1),agent:c,httpClient:l.httpClient||(c?this._platformFunctions.createNodeHttpClient(c):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:l.stripeAccount||null};let p=l.typescript||!1;p!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=p),l.appInfo&&this._setAppInfo(l.appInfo),this._prepResources(),this._setApiKey(s),this.errors=xt,this.webhooks=r(),this._prevRequestMetrics=[],this._enableTelemetry=l.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.errors=xt,o.createNodeHttpClient=t.createNodeHttpClient,o.createFetchHttpClient=t.createFetchHttpClient,o.createNodeCryptoProvider=t.createNodeCryptoProvider,o.createSubtleCryptoProvider=t.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(s){s&&this._setApiField("auth",`Bearer ${s}`)},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=Pp.reduce((a,l)=>(typeof s[l]=="string"&&(a=a||{},a[l]=s[l]),a),void 0)},_setApiField(s,a){this._api[s]=a},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return el;case"DEFAULT_PORT":return tl;case"DEFAULT_BASE_PATH":return rl;case"DEFAULT_API_VERSION":return ol;case"DEFAULT_TIMEOUT":return nl;case"MAX_NETWORK_RETRY_DELAY_SEC":return il;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return sl}return o[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,a,l){let c=Bt(s,a,l);this._setApiField(s,c)},getMaxNetworkRetryDelay(){return il},getInitialNetworkRetryDelay(){return sl},getClientUserAgent(s){return this.getClientUserAgentSeeded(o.USER_AGENT,s)},getClientUserAgentSeeded(s,a){this._platformFunctions.getUname().then(l=>{var c;let p={};for(let u in s)Object.prototype.hasOwnProperty.call(s,u)&&(p[u]=encodeURIComponent((c=s[u])!==null&&c!==void 0?c:"null"));p.uname=encodeURIComponent(l||"UNKNOWN");let h=this.getApiField("httpClient");h&&(p.httplib=encodeURIComponent(h.getClientName())),this._appInfo&&(p.application=this._appInfo),a(JSON.stringify(p))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let s in Ue)Object.prototype.hasOwnProperty.call(Ue,s)&&(this[hi(s)]=new Ue[s](this))},_getPropsFromConfig(s){if(!s)return{};let a=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!a)throw new Error("Config must either be an object or a string");if(a)return{apiVersion:s};if(Object.keys(s).filter(p=>!al.includes(p)).length>0)throw new Error(`Config object may only contain the following: ${al.join(", ")}`);return s}},o}var Tp=ll(new zt),ul=Tp;i();var cl=process.env;var A_=new ul(cl.STRIPE_SECRET_KEY),C_=async t=>(console.log("event",t),{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"},body:JSON.stringify("Hello from api-function!")});export{C_ as handler};
//# sourceMappingURL=index.mjs.map
